"use strict";
/**
 * @author Jonathan Terrell <jonathan.terrell@springbrook.es>
 * @copyright Copyright (c) 2022 Springbrook S.L.
 * @file src/connection/index.ts
 * @license "ISC"
 */
var e,i,o;Object.defineProperty(exports,"__esModule",{value:!0}),function(e){e.FileStorage="fileStorage"}(e||(e={})),function(e){e.Uint8Array="uint8Array",e.JSON="json"}(i||(i={})),function(e){e.Folder="folder",e.Object="object"}(o||(o={}));const s=async(e,o,s,t,n)=>{const d={Range:`bytes=0-${t.chunkSize||4096}`},r=await fetch(`https://nectis-resources.web.app/fileStore${n.path}`,{headers:d});if(!r.ok)throw new Error(r.statusText);const v=await r.arrayBuffer();return{data:new Uint8Array(v),typeId:i.Uint8Array}},t=e=>{const i=[];return e.startsWith("/SAP Employee Central")?(i.push(d("/SAP Employee Central","ADDRESS_INFO.csv","utf-8",208015,"2018-01-02T23:33:00+00:00")),i.push(d("/SAP Employee Central","COMP_CUR_CONV.csv","utf-8",2245,"2018-01-02T23:33:00+00:00")),i.push(d("/SAP Employee Central","EMP_COMP_INFO.csv","utf-8",1665179,"2018-01-02T23:33:00+00:00")),i.push(d("/SAP Employee Central","EMP_PAYCOMP_RECURRING.csv","utf-8",1551764,"2018-01-02T23:33:00+00:00")),i.push(d("/SAP Employee Central","EMPLOYMENT_INFO.csv","utf-8",128575,"2018-01-02T23:33:00+00:00")),i.push(d("/SAP Employee Central","EVENT_REASONS.csv","utf-8",7775,"2018-01-02T23:33:00+00:00")),i.push(d("/SAP Employee Central","FREQUENCY.csv","utf-8",1704,"2018-01-02T23:33:00+00:00")),i.push(d("/SAP Employee Central","GENERIC_OBJECTS.csv","utf-8",1662477,"2018-01-02T23:33:00+00:00")),i.push(d("/SAP Employee Central","GENERIC_RELATIONSHIPS.csv","utf-8",98782,"2018-01-02T23:33:00+00:00")),i.push(d("/SAP Employee Central","JOB_CLASS.csv","utf-8",338260,"2018-01-02T23:33:00+00:00")),i.push(d("/SAP Employee Central","JOB_INFO.csv","utf-8",1546379,"2018-01-02T23:33:00+00:00")),i.push(d("/SAP Employee Central","LABELS.csv","utf-8",126838,"2018-01-02T23:33:00+00:00")),i.push(d("/SAP Employee Central","LOCATIONS.csv","utf-8",2995,"2018-01-02T23:33:00+00:00")),i.push(d("/SAP Employee Central","PAY_COMPONENT.csv","utf-8",1234,"2018-01-02T23:33:00+00:00")),i.push(d("/SAP Employee Central","PERSON_INFO_GLOBAL.csv","utf-8",82438,"2018-01-02T23:33:00+00:00")),i.push(d("/SAP Employee Central","PERSON.csv","utf-8",44896,"2018-01-02T23:33:00+00:00")),i.push(d("/SAP Employee Central","PERSONAL_DATA.csv","utf-8",105949,"2018-01-02T23:33:00+00:00")),i.push(d("/SAP Employee Central","PICKLISTS.csv","utf-8",78044,"2018-01-02T23:33:00+00:00")),i.push(d("/SAP Employee Central","TERRITORY.csv","utf-8",8541,"2018-01-02T23:33:00+00:00"))):e.startsWith("/Test Files")?i.push(n("/Encoding",30)):e.startsWith("/Encoding")?(i.push(d("/Test Files/Encoding","big5",void 0,void 0,void 0)),i.push(d("/Test Files/Encoding","euc_jp",void 0,void 0,void 0)),i.push(d("/Test Files/Encoding","euc_kr",void 0,void 0,void 0)),i.push(d("/Test Files/Encoding","gb18030",void 0,void 0,void 0)),i.push(d("/Test Files/Encoding","iso2022jp",void 0,void 0,void 0)),i.push(d("/Test Files/Encoding","iso88592_cs",void 0,void 0,void 0)),i.push(d("/Test Files/Encoding","iso88595_ru",void 0,void 0,void 0)),i.push(d("/Test Files/Encoding","iso88596_ar",void 0,void 0,void 0)),i.push(d("/Test Files/Encoding","iso88597_el",void 0,void 0,void 0)),i.push(d("/Test Files/Encoding","koi8r",void 0,void 0,void 0)),i.push(d("/Test Files/Encoding","lang_arabic",void 0,void 0,void 0)),i.push(d("/Test Files/Encoding","lang_chinese",void 0,void 0,void 0)),i.push(d("/Test Files/Encoding","lang_czech",void 0,void 0,void 0)),i.push(d("/Test Files/Encoding","lang_greek",void 0,void 0,void 0)),i.push(d("/Test Files/Encoding","lang_hebrew",void 0,void 0,void 0)),i.push(d("/Test Files/Encoding","lang_japanese",void 0,void 0,void 0)),i.push(d("/Test Files/Encoding","lang_korean",void 0,void 0,void 0)),i.push(d("/Test Files/Encoding","lang_russian",void 0,void 0,void 0)),i.push(d("/Test Files/Encoding","lang_turkish",void 0,void 0,void 0)),i.push(d("/Test Files/Encoding","shiftjis",void 0,void 0,void 0)),i.push(d("/Test Files/Encoding","utf16be",void 0,void 0,void 0)),i.push(d("/Test Files/Encoding","utf16le",void 0,void 0,void 0)),i.push(d("/Test Files/Encoding","utf8",void 0,void 0,void 0)),i.push(d("/Test Files/Encoding","windows_1250",void 0,void 0,void 0)),i.push(d("/Test Files/Encoding","windows_1251",void 0,void 0,void 0)),i.push(d("/Test Files/Encoding","windows_1252",void 0,void 0,void 0)),i.push(d("/Test Files/Encoding","windows_1253",void 0,void 0,void 0)),i.push(d("/Test Files/Encoding","windows_1254",void 0,void 0,void 0)),i.push(d("/Test Files/Encoding","windows_1255",void 0,void 0,void 0)),i.push(d("/Test Files/Encoding","windows_1256",void 0,void 0,void 0))):(i.push(n("/SAP Employee Central",19)),i.push(n("/Test Files",7))),{cursor:void 0,isMore:!1,items:i}},n=(e,i)=>{const s=r(e);return{_id:void 0,childCount:i,directory:e,encodingId:void 0,extension:void 0,id:void 0,insertedId:void 0,kind:void 0,label:s,lastModifiedAt:void 0,name:s,referenceId:void 0,size:void 0,typeId:o.Folder}},d=(e,i,s,t,n)=>({_id:void 0,childCount:void 0,directory:e,encodingId:s,extension:"csv",id:i,insertedId:void 0,kind:"text/csv",label:i,lastModifiedAt:Date.parse(n),name:i,referenceId:void 0,size:t,typeId:o.Object}),r=e=>{if(e){let i,o;if(e.endsWith("/")?(i=e.lastIndexOf("/",e.length-2),o=e.length-1):(i=e.lastIndexOf("/"),o=e.length),i>-1)return e.substring(i+1,o)}};exports.default=class{connection;connectionClassId;id;constructor(i){this.connection=i,this.connectionClassId=e.FileStorage}abort(){this.connection.isAborted=!0}async authenticate(e,i,o,s){return Promise.reject(new Error("Not implemented"))}async describe(e,i,o){return Promise.reject(new Error("Not implemented"))}getCreateInterface(){throw new Error("Not implemented")}async getFolderItemCounts(e,i,o){return Promise.reject(new Error("Not implemented"))}getPreviewInterface(){return{connector:this,previewItem:s}}getReadInterface(){throw new Error("Not implemented")}getWriteInterface(){throw new Error("Not implemented")}async retrieveItems(e,i,o){return t(o)}},exports.extractLastSubDirectoryFromPath=r;
